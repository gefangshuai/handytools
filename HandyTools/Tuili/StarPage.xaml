<Page
    x:Class="HandyTools.Tuili.StarPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Loaded="StarPage_OnLoaded"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Page.Resources>
        
    	<Thickness x:Key="PivotPortraitThemePadding">19,24,0,0</Thickness>
    	<Thickness x:Key="PivotLandscapeThemePadding">19,15,0,0</Thickness>
    	<Style x:Key="PivotStyle1" TargetType="Pivot">
    		<Setter Property="Margin" Value="0"/>
    		<Setter Property="Padding" Value="0"/>
    		<Setter Property="Foreground" Value="{ThemeResource PhoneForegroundBrush}"/>
    		<Setter Property="Background" Value="Transparent"/>
    		<Setter Property="ItemsPanel">
    			<Setter.Value>
    				<ItemsPanelTemplate>
    					<Grid>
                        </Grid>
    				</ItemsPanelTemplate>
    			</Setter.Value>
    		</Setter>
    		<Setter Property="Template">
    			<Setter.Value>
    				<ControlTemplate TargetType="Pivot">
    					<Grid x:Name="RootElement" Background="{TemplateBinding Background}" HorizontalAlignment="{TemplateBinding HorizontalAlignment}" VerticalAlignment="{TemplateBinding VerticalAlignment}">
    						<Grid.RowDefinitions>
    							<RowDefinition Height="Auto"/>
    							<RowDefinition Height="*"/>
    						</Grid.RowDefinitions>
    						<VisualStateManager.VisualStateGroups>
    							<VisualStateGroup x:Name="Orientation">
    								<VisualState x:Name="Portrait">
    									<Storyboard>
    										<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Margin" Storyboard.TargetName="TitleContentControl">
    											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource PivotPortraitThemePadding}"/>
    										</ObjectAnimationUsingKeyFrames>
    									</Storyboard>
    								</VisualState>
    								<VisualState x:Name="Landscape">
    									<Storyboard>
    										<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Margin" Storyboard.TargetName="TitleContentControl">
    											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource PivotLandscapeThemePadding}"/>
    										</ObjectAnimationUsingKeyFrames>
    									</Storyboard>
    								</VisualState>
    							</VisualStateGroup>
    						</VisualStateManager.VisualStateGroups>
    						<ContentControl x:Name="TitleContentControl" ContentTemplate="{TemplateBinding TitleTemplate}" Content="{TemplateBinding Title}" Style="{StaticResource PivotTitleContentControlStyle}"/>
    						<ScrollViewer x:Name="ScrollViewer" HorizontalSnapPointsAlignment="Center" HorizontalSnapPointsType="MandatorySingle" HorizontalScrollBarVisibility="Hidden" Margin="{TemplateBinding Padding}" Grid.Row="1" Template="{StaticResource ScrollViewerScrollBarlessTemplate}" VerticalSnapPointsType="None" VerticalScrollBarVisibility="Disabled" VerticalScrollMode="Disabled" VerticalContentAlignment="Stretch" ZoomMode="Disabled">
    							<PivotPanel x:Name="Panel" VerticalAlignment="Stretch">
    								<PivotHeaderPanel x:Name="Header" Background="WhiteSmoke">
    									<PivotHeaderPanel.RenderTransform>
    										<CompositeTransform x:Name="HeaderTranslateTransform" TranslateX="0"/>
    									</PivotHeaderPanel.RenderTransform>
                                        
    								</PivotHeaderPanel>
    								<ItemsPresenter x:Name="PivotItemPresenter">
    									<ItemsPresenter.RenderTransform>
    										<TranslateTransform x:Name="ItemsPresenterTranslateTransform" X="0"/>
    									</ItemsPresenter.RenderTransform>
    								</ItemsPresenter>
    							</PivotPanel>
    						</ScrollViewer>
    					</Grid>
    				</ControlTemplate>
    			</Setter.Value>
    		</Setter>
    	</Style>
        
    </Page.Resources>

    <Grid x:Name="LayoutRoot">

        <Grid.ChildrenTransitions>
            <TransitionCollection>
                <EntranceThemeTransition/>
            </TransitionCollection>
        </Grid.ChildrenTransitions>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Popup Name="SettingsPopup" IsLightDismissEnabled="True" Grid.RowSpan="2">
            <Popup.ChildTransitions>
                <TransitionCollection>
                    <EdgeUIThemeTransition Edge="Top"></EdgeUIThemeTransition>
                </TransitionCollection>
            </Popup.ChildTransitions>
            <Border Background="WhiteSmoke" Name="SettinGrid" BorderThickness="0 0 0 4">
                <Border.BorderBrush>
                    <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                        <GradientStop Color="White" Offset="0"/>
                        <GradientStop Color="Gray" Offset="0.03"/>
                        <GradientStop Color="Gray" Offset="0.98"/>
                        <GradientStop Color="Gainsboro" Offset="1"/>
                    </LinearGradientBrush>
                </Border.BorderBrush>
                <Grid Margin="25">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource BaseTextBlockStyle}">设置您的个人信息</TextBlock>
                    <ComboBox Grid.Row="1" Grid.ColumnSpan="3" Grid.Column="0" Name="StarComboBox"/>
                    <AppBarButton IsCompact="True" Label="确定" Grid.Row="2" HorizontalAlignment="Right" VerticalAlignment="Bottom" Grid.Column="0" Icon="Accept" Name="OkAppBarButton" Click="OkAppBarButton_OnClick"/>
                    <AppBarButton IsCompact="True" Label="取消" Grid.Row="2" HorizontalAlignment="Left" VerticalAlignment="Bottom" Grid.Column="2" Icon="Cancel" Name="CancelAppBarButton" Click="CancelAppBarButton_OnClick"/>
                </Grid>
            </Border>
        </Popup>
        <!--TODO: 应将内容放入以下网格-->
        <Grid Grid.Row="0" Background="WhiteSmoke">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <TextBlock Margin="20 0" Style="{StaticResource BaseTextBlockStyle}" >星座运势</TextBlock>
            <TextBlock Grid.Column="1" Foreground="DodgerBlue" HorizontalAlignment="Right" Margin="20 0" Style="{StaticResource BaseTextBlockStyle}" Name="StarTextBlock" Tapped="StarTextBlock_OnTapped">未设置</TextBlock>
        </Grid>
        <Grid x:Name="ContentRoot" Grid.Row="1">
            <Pivot Style="{StaticResource PivotStyle1}">
                <Pivot.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Margin="0 10 0 20">
                            <TextBlock Text="{Binding}" FontSize="44" />
                        </StackPanel>
                    </DataTemplate>
                </Pivot.HeaderTemplate>
                <PivotItem Header="每日星座运势">
                    <Grid>
                        <TextBlock>d</TextBlock>
                    </Grid>
                </PivotItem>
                <PivotItem Header="明日星座运势">
                    <Grid>
                        <TextBlock>b</TextBlock>
                    </Grid>
                </PivotItem>
                <PivotItem Header="每周星座运势">
                    <Grid>
                        <TextBlock>c</TextBlock>
                    </Grid>
                </PivotItem>
                <PivotItem Header="每月星座运势"></PivotItem>
                <PivotItem Header="年度星座运势"></PivotItem>
                <PivotItem Header="年度爱情运势"></PivotItem>
            </Pivot>
            <Border Height="10" Background="WhiteSmoke" VerticalAlignment="Top" BorderThickness="0 0 0 4">
                <Border.RenderTransform>
                    <TranslateTransform Y="76"></TranslateTransform>
                </Border.RenderTransform>
                <Border.BorderBrush>
                    <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                        <GradientStop Color="White" Offset="0"/>
                        <GradientStop Color="Gray" Offset="0.03"/>
                        <GradientStop Color="Gray" Offset="0.58"/>
                        <GradientStop Color="White" Offset="1"/>
                    </LinearGradientBrush>
                </Border.BorderBrush>
            </Border>
        </Grid>

    </Grid>



    <Page.BottomAppBar>
        <CommandBar>
            <AppBarButton Name="SettingAppBarButton" Click="SettingAppBarButton_OnClick" Label="资料设置" Icon="Contact" />
        </CommandBar>
    </Page.BottomAppBar>
</Page>
